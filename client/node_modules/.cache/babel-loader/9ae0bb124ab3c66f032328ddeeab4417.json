{"ast":null,"code":"import _slicedToArray from\"C:/Users/david/Desktop/Bug-Tracker-Pern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from'react';import{useDispatch,useSelector}from'react-redux';import{Paper,useMediaQuery}from'@material-ui/core';import ProjectsTable from'../../components/projects-table/projects-table.component';// import ProjectButton from '../../components/project-button/project-button.component';\n// import ProjectHeader from '../../components/project-header/project-header.component';\nimport AddIcon from'@material-ui/icons/Add';import Spinner from'../../components/spinner/spinner.component';// import ProjectCreate from '../../components/project-create/project-create.component';\nimport FormDialog from'../../components/form-dialog/form-dialog.component';import ProjectForm from'../../components/project-form/project-form.component';import ProjectsSearchSort from'../../components/projects-search-sort/projects-search-sort.component';import{selectProjectsState}from'../../redux/slices/projectSlice';import{useHomePageStyles}from'../../styles/muiStyles';import sortProjects from'../../utils/sortProject';import{useTheme}from'@material-ui/core/styles';import ProjectsTableMobile from'../../components/projects-table-mobile/projects-table-mobile.component';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var HomePage=function HomePage(){var _useSelector=useSelector(selectProjectsState),projects=_useSelector.projects,fetchStatus=_useSelector.fetchStatus,fetchError=_useSelector.fetchError,sortBy=_useSelector.sortBy;var classes=useHomePageStyles();var dispatch=useDispatch();var theme=useTheme();var isMobile=useMediaQuery(theme.breakpoints.down('xs'));var _useState=useState(''),_useState2=_slicedToArray(_useState,2),searchText=_useState2[0],setSearchText=_useState2[1];var filteredSortedProjects=sortProjects(projects.filter(function(project){return project.name.toLowerCase().includes(searchText.toLowerCase());}),sortBy);useEffect(function(){// dispatch(fetchProjects());\n},[projects]);var projectDisplay=function projectDisplay(){if(fetchStatus==='loading'){return/*#__PURE__*/_jsx(Spinner,{});}else{return/*#__PURE__*/_jsx(\"div\",{className:classes.projectsListTable,children:!isMobile?/*#__PURE__*/_jsx(ProjectsTable,{projects:filteredSortedProjects}):/*#__PURE__*/_jsx(ProjectsTableMobile,{projects:filteredSortedProjects})});}};return/*#__PURE__*/_jsx(\"div\",{className:classes.root,children:/*#__PURE__*/_jsxs(Paper,{className:classes.body,elevation:3,children:[/*#__PURE__*/_jsx(FormDialog,{title:\"Create Project\",buttonType:{type:'normal',text:'Create Project',icon:AddIcon},children:/*#__PURE__*/_jsx(ProjectForm,{editMode:\"project\"})}),/*#__PURE__*/_jsx(ProjectsSearchSort,{searchText:searchText,setSearchText:setSearchText,isMobile:isMobile}),projectDisplay()]})});};export default HomePage;","map":{"version":3,"sources":["C:/Users/david/Desktop/Bug-Tracker-Pern/client/src/pages/home-page/homepage.component.tsx"],"names":["useEffect","useState","useDispatch","useSelector","Paper","useMediaQuery","ProjectsTable","AddIcon","Spinner","FormDialog","ProjectForm","ProjectsSearchSort","selectProjectsState","useHomePageStyles","sortProjects","useTheme","ProjectsTableMobile","HomePage","projects","fetchStatus","fetchError","sortBy","classes","dispatch","theme","isMobile","breakpoints","down","searchText","setSearchText","filteredSortedProjects","filter","project","name","toLowerCase","includes","projectDisplay","projectsListTable","root","body","type","text","icon"],"mappings":"qKAAA,OAASA,SAAT,CAAoBC,QAApB,KAA8C,OAA9C,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,OAASC,KAAT,CAAgBC,aAAhB,KAAqC,mBAArC,CAEA,MAAOC,CAAAA,aAAP,KAA0B,0DAA1B,CACA;AACA;AACA,MAAOC,CAAAA,OAAP,KAAoB,wBAApB,CACA,MAAOC,CAAAA,OAAP,KAAoB,4CAApB,CACA;AAEA,MAAOC,CAAAA,UAAP,KAAuB,oDAAvB,CACA,MAAOC,CAAAA,WAAP,KAAwB,sDAAxB,CACA,MAAOC,CAAAA,kBAAP,KAA+B,sEAA/B,CAIA,OAASC,mBAAT,KAAoC,iCAApC,CAEA,OAASC,iBAAT,KAAkC,wBAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,yBAAzB,CAGA,OAASC,QAAT,KAAyB,0BAAzB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,wEAAhC,C,wFAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,iBACEd,WAAW,CAACS,mBAAD,CADb,CAAQM,QAAR,cAAQA,QAAR,CAAkBC,WAAlB,cAAkBA,WAAlB,CAA+BC,UAA/B,cAA+BA,UAA/B,CAA2CC,MAA3C,cAA2CA,MAA3C,CAEA,GAAMC,CAAAA,OAAO,CAAGT,iBAAiB,EAAjC,CACA,GAAMU,CAAAA,QAAQ,CAAGrB,WAAW,EAA5B,CACA,GAAMsB,CAAAA,KAAK,CAAGT,QAAQ,EAAtB,CACA,GAAMU,CAAAA,QAAQ,CAAGpB,aAAa,CAACmB,KAAK,CAACE,WAAN,CAAkBC,IAAlB,CAAuB,IAAvB,CAAD,CAA9B,CACA,cAAoC1B,QAAQ,CAAC,EAAD,CAA5C,wCAAO2B,UAAP,eAAmBC,aAAnB,eAEA,GAAMC,CAAAA,sBAAsB,CAAGhB,YAAY,CACzCI,QAAQ,CAACa,MAAT,CAAgB,SAACC,OAAD,QACdA,CAAAA,OAAO,CAACC,IAAR,CAAaC,WAAb,GAA2BC,QAA3B,CAAoCP,UAAU,CAACM,WAAX,EAApC,CADc,EAAhB,CADyC,CAIzCb,MAJyC,CAA3C,CAOArB,SAAS,CAAC,UAAM,CACd;AACD,CAFQ,CAEN,CAACkB,QAAD,CAFM,CAAT,CAIA,GAAMkB,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3B,GAAIjB,WAAW,GAAK,SAApB,CAA+B,CAC7B,mBAAO,KAAC,OAAD,IAAP,CACD,CAFD,IAEO,CACL,mBACE,YAAK,SAAS,CAAEG,OAAO,CAACe,iBAAxB,UACG,CAACZ,QAAD,cACC,KAAC,aAAD,EAAe,QAAQ,CAAEK,sBAAzB,EADD,cAGC,KAAC,mBAAD,EAAqB,QAAQ,CAAEA,sBAA/B,EAJJ,EADF,CASD,CACF,CAdD,CAgBA,mBACE,YAAK,SAAS,CAAER,OAAO,CAACgB,IAAxB,uBACE,MAAC,KAAD,EAAO,SAAS,CAAEhB,OAAO,CAACiB,IAA1B,CAAgC,SAAS,CAAE,CAA3C,wBACE,KAAC,UAAD,EACE,KAAK,CAAC,gBADR,CAEE,UAAU,CAAE,CAAEC,IAAI,CAAE,QAAR,CAAkBC,IAAI,CAAE,gBAAxB,CAA0CC,IAAI,CAAEnC,OAAhD,CAFd,uBAIE,KAAC,WAAD,EAAa,QAAQ,CAAC,SAAtB,EAJF,EADF,cAOE,KAAC,kBAAD,EACE,UAAU,CAAEqB,UADd,CAEE,aAAa,CAAEC,aAFjB,CAGE,QAAQ,CAAEJ,QAHZ,EAPF,CAYGW,cAAc,EAZjB,GADF,EADF,CAkBD,CAtDD,CAwDA,cAAenB,CAAAA,QAAf","sourcesContent":["import { useEffect, useState, Fragment } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nimport { Paper, useMediaQuery } from '@material-ui/core';\r\n\r\nimport ProjectsTable from '../../components/projects-table/projects-table.component';\r\n// import ProjectButton from '../../components/project-button/project-button.component';\r\n// import ProjectHeader from '../../components/project-header/project-header.component';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Spinner from '../../components/spinner/spinner.component';\r\n// import ProjectCreate from '../../components/project-create/project-create.component';\r\n\r\nimport FormDialog from '../../components/form-dialog/form-dialog.component';\r\nimport ProjectForm from '../../components/project-form/project-form.component';\r\nimport ProjectsSearchSort from '../../components/projects-search-sort/projects-search-sort.component';\r\n\r\nimport { fetchProjects } from '../../redux/slices/projectSlice';\r\n\r\nimport { selectProjectsState } from '../../redux/slices/projectSlice';\r\n\r\nimport { useHomePageStyles } from '../../styles/muiStyles';\r\nimport sortProjects from '../../utils/sortProject';\r\n\r\nimport Axios from 'axios';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport ProjectsTableMobile from '../../components/projects-table-mobile/projects-table-mobile.component';\r\n\r\nconst HomePage = () => {\r\n  const { projects, fetchStatus, fetchError, sortBy } =\r\n    useSelector(selectProjectsState);\r\n  const classes = useHomePageStyles();\r\n  const dispatch = useDispatch();\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down('xs'));\r\n  const [searchText, setSearchText] = useState('');\r\n\r\n  const filteredSortedProjects = sortProjects(\r\n    projects.filter((project) =>\r\n      project.name.toLowerCase().includes(searchText.toLowerCase())\r\n    ),\r\n    sortBy\r\n  );\r\n\r\n  useEffect(() => {\r\n    // dispatch(fetchProjects());\r\n  }, [projects]);\r\n\r\n  const projectDisplay = () => {\r\n    if (fetchStatus === 'loading') {\r\n      return <Spinner />;\r\n    } else {\r\n      return (\r\n        <div className={classes.projectsListTable}>\r\n          {!isMobile ? (\r\n            <ProjectsTable projects={filteredSortedProjects} />\r\n          ) : (\r\n            <ProjectsTableMobile projects={filteredSortedProjects} />\r\n          )}\r\n        </div>\r\n      );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.body} elevation={3}>\r\n        <FormDialog\r\n          title=\"Create Project\"\r\n          buttonType={{ type: 'normal', text: 'Create Project', icon: AddIcon }}\r\n        >\r\n          <ProjectForm editMode=\"project\" />\r\n        </FormDialog>\r\n        <ProjectsSearchSort\r\n          searchText={searchText}\r\n          setSearchText={setSearchText}\r\n          isMobile={isMobile}\r\n        />\r\n        {projectDisplay()}\r\n      </Paper>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}