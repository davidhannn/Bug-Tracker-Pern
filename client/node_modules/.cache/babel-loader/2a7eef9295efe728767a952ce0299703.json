{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/david/Desktop/Bug-Tracker-Pern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/david/Desktop/Bug-Tracker-Pern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{createSlice}from'@reduxjs/toolkit';import usersService from'../../services/users';var initialState={users:[]};var usersSlice=createSlice({name:'users',initialState:initialState,reducers:{setUsers:function setUsers(state,action){state.users=action.payload;}}});var setUsers=usersSlice.actions.setUsers;export{setUsers};export var getUsers=function getUsers(){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var allUsers;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return usersService.getUsers();case 3:allUsers=_context.sent;dispatch(setUsers(allUsers));_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var selectUsersState=function selectUsersState(state){return state.users;};export default usersSlice.reducer;","map":{"version":3,"sources":["C:/Users/david/Desktop/Bug-Tracker-Pern/client/src/redux/slices/usersSlice.ts"],"names":["createSlice","usersService","initialState","users","usersSlice","name","reducers","setUsers","state","action","payload","actions","getUsers","dispatch","allUsers","console","log","selectUsersState","reducer"],"mappings":"uUACA,OAASA,WAAT,KAA2C,kBAA3C,CAIA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CAMA,GAAMC,CAAAA,YAA+B,CAAG,CACtCC,KAAK,CAAE,EAD+B,CAAxC,CAIA,GAAMC,CAAAA,UAAU,CAAGJ,WAAW,CAAC,CAC7BK,IAAI,CAAE,OADuB,CAE7BH,YAAY,CAAZA,YAF6B,CAG7BI,QAAQ,CAAE,CACRC,QAAQ,CAAE,kBAACC,KAAD,CAAQC,MAAR,CAA0C,CAClDD,KAAK,CAACL,KAAN,CAAcM,MAAM,CAACC,OAArB,CACD,CAHO,CAHmB,CAAD,CAA9B,CAUO,GAAQH,CAAAA,QAAR,CAAqBH,UAAU,CAACO,OAAhC,CAAQJ,QAAR,C,iBAEP,MAAO,IAAMK,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAgB,CACtC,+FAAO,iBAAOC,QAAP,qKAEoBZ,CAAAA,YAAY,CAACW,QAAb,EAFpB,QAEGE,QAFH,eAGHD,QAAQ,CAACN,QAAQ,CAACO,QAAD,CAAT,CAAR,CAHG,+EAKHC,OAAO,CAACC,GAAR,cALG,oEAAP,+DAQD,CATM,CAWP,MAAO,IAAMC,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACT,KAAD,QAAsBA,CAAAA,KAAK,CAACL,KAA5B,EAAzB,CAEP,cAAeC,CAAAA,UAAU,CAACc,OAA1B","sourcesContent":["import { AppThunk } from './../store';\r\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\r\nimport { RootState } from '../store';\r\nimport { User } from '../types';\r\nimport authService from '../../services/auth';\r\nimport usersService from '../../services/users';\r\n\r\ninterface InitialUsersState {\r\n  users: User[];\r\n}\r\n\r\nconst initialState: InitialUsersState = {\r\n  users: [],\r\n};\r\n\r\nconst usersSlice = createSlice({\r\n  name: 'users',\r\n  initialState,\r\n  reducers: {\r\n    setUsers: (state, action: PayloadAction<User[]>) => {\r\n      state.users = action.payload;\r\n    },\r\n  },\r\n});\r\n\r\nexport const { setUsers } = usersSlice.actions;\r\n\r\nexport const getUsers = (): AppThunk => {\r\n  return async (dispatch) => {\r\n    try {\r\n      const allUsers = await usersService.getUsers();\r\n      dispatch(setUsers(allUsers));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n};\r\n\r\nexport const selectUsersState = (state: RootState) => state.users;\r\n\r\nexport default usersSlice.reducer;\r\n"]},"metadata":{},"sourceType":"module"}